<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2017-03-12 Sun 14:55 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Lecture 6: Linear Regression with One Regressor</title>
<meta name="generator" content="Org mode" />
<meta name="author" content="Zheng Tian" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<link rel="stylesheet" type="text/css" href="../../../css/readtheorg.css" />
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2013 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<h1 class="title">Lecture 6: Linear Regression with One Regressor</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#org5248180">1. Introduction</a></li>
<li><a href="#orgafcbe4b">2. The Linear Regression Model</a></li>
</ul>
</div>
</div>


<div id="outline-container-org5248180" class="outline-2">
<h2 id="org5248180"><span class="section-number-2">1</span> Introduction</h2>
<div class="outline-text-2" id="text-1">
<p>
This lecture introduces a linear regression model with one regressor
called a simple linear regression model. We will learn the ordinary
least squares (OLS) method to estimate a simple linear regression
model, discuss the algebraic and statistical properties of the OLS
estimator, introduce two measures of goodness of fit, and bring up three least
squares assumptions for a linear regression model. As an example, we
apply the OLS estimation method to a linear model of test scores and
class sizes in California school districts.
</p>

<p>
This lecture lays out foundations for all lectures to come. Although
in practice we seldom use a linear regression model with only one
regressor, the essential principles of the OLS estimation method and
hypothesis testing are the same for a linear regression model with
multiple regressors.
</p>
</div>
</div>


<div id="outline-container-orgafcbe4b" class="outline-2">
<h2 id="orgafcbe4b"><span class="section-number-2">2</span> The Linear Regression Model</h2>
<div class="outline-text-2" id="text-2">
</div><div id="outline-container-orgb0fd99e" class="outline-3">
<h3 id="orgb0fd99e"><span class="section-number-3">2.1</span> What is regression?</h3>
<div class="outline-text-3" id="text-2-1">
</div><div id="outline-container-org249ed41" class="outline-4">
<h4 id="org249ed41">Definition of <b>regress</b> in Merriam-Webster's dictionary</h4>
<div class="outline-text-4" id="text-org249ed41">
<p>
Merriam-Webster gives the following definition of the word "regress":
</p>
<ol class="org-ol">
<li>An act or the privilege of going or coming back</li>
<li>Movement backward to a previous and especially worse or more
primitive state or condition</li>
<li>The act of reasoning backward</li>
</ol>
</div>
</div>

<div id="outline-container-orgc224da0" class="outline-4">
<h4 id="orgc224da0">The meaning of regression in statistics?</h4>
<div class="outline-text-4" id="text-orgc224da0">
<p>
In statistical modeling, regression analysis is a statistical process
for estimating the relationships among variables.<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup> Specifically,
most regression analysis focus on the conditional mean of the
dependent variable given the independent variables, which is a
function of the values of independent variables.
</p>

<p>
A very simple functional form of a conditional expectation is a linear
function. That is, we can model the conditional mean as follows,
</p>
\begin{equation}
\label{eq:genpopreg}
\mathrm{E}(Y \mid X = x) = f(x) = \beta_{0} + \beta_1 x
\end{equation}
<p>
Equation \ref{eq:genpopreg} is called a <b>simple linear regression
function</b>.
</p>
</div>
</div>
</div>


<div id="outline-container-orgf67dd18" class="outline-3">
<h3 id="orgf67dd18"><span class="section-number-3">2.2</span> An example: Test scores versus class size</h3>
<div class="outline-text-3" id="text-2-2">
<p>
Let's go back to the example of California school districts,
introduced in Lecture 1.
</p>
</div>

<div id="outline-container-org6b6b010" class="outline-4">
<h4 id="org6b6b010">Research question:</h4>
<div class="outline-text-4" id="text-org6b6b010">
<p>
The research question of this application is: Can reducing class size
increase students' test scores?
</p>
</div>
</div>

<div id="outline-container-org2dccfe3" class="outline-4">
<h4 id="org2dccfe3">How can we answer the question?</h4>
<div class="outline-text-4" id="text-org2dccfe3">
<ul class="org-ul">
<li>We randomly choose 42 students and divide them into two classes,
with one having 20 students and another having 22. And they are
taught with the same subject and by the same teachers.</li>

<li>Randomization ensures that it is the difference in class sizes of
the two classes that is the only factor affecting test scores.</li>

<li><p>
After a test for both classes, we then compute the average test
scores that can be expressed as,
</p>
\begin{gather*}
\mathrm{E}(TestScore | ClassSize = 20) \\
\mathrm{E}(TestScore | ClassSize = 22)
\end{gather*}</li>

<li><p>
Then the effect of class size on test scores is the difference in
the conditional means, i.e.,
</p>
\begin{equation*}
\mathrm{E}(TestScore | ClassSize = 20) - \mathrm{E}(TestScore | ClassSize = 22)
\end{equation*}</li>

<li>If the difference is large enough, we can say that reducing class
can improve students' test performance.</li>
</ul>
</div>
</div>

<div id="outline-container-orga89e8ab" class="outline-4">
<h4 id="orga89e8ab">A simple linear regression model of test scores v.s. class size</h4>
<div class="outline-text-4" id="text-orga89e8ab">
<p>
As mentioned above, a simple linear regression function can be used to
describe the relationship between test scores and class sizes. Since
it regards the association between these two variable for the whole
population, we call this regression function as the <b>population
regression function</b> or the <b>population regression line</b>, taking the
following form,
</p>
\begin{equation}
\label{eq:popreg-testscore}
\mathrm{E}(TestScore | ClassSzie) = \beta_0 + \beta_1 ClassSize
\end{equation}

<p>
By calculating the conditional expectation, some other factors, apart
from class sizes, are left out of the population regression
function. Although these factors may also influence test scores, they are
either unimportant in your reasoning or unable to be measured. We can
lump all these factors into a single term, and set up a <b>simple linear
regression model</b> as follows,
</p>
\begin{equation}
\label{eq:regmodel-testscore}
TestScore = \beta_0 + \beta_1 ClassSize + OtherFactors
\end{equation}

<p>
If we assume \(\mathrm{E}(OtherFactors | ClassSize) = 0\), then the
simple linear regression model (Eq. \ref{eq:regmodel-testscore})
becomes the population regression line
(Eq. \ref{eq:popreg-testscore}).
</p>
</div>
</div>

<div id="outline-container-org4c702ef" class="outline-4">
<h4 id="org4c702ef">A distinction between the population regression function and the population regression model</h4>
<div class="outline-text-4" id="text-org4c702ef">
<p>
Note that here we have two concepts: the population regression
function and the population regression model. What's their difference?
Simply put,
</p>
<ul class="org-ul">
<li>A population regression function gives us a deterministic
relation between class size and the expectation of test scores. That
is, when we have a value of class size and know the values of
\(\beta_0\) and \(\beta_1\), there is one and only one
expected value of test scores associated with this class size.
However, we cannot compute the exact value of the test score of a
particular observation.</li>
<li>A population regression model, by including other factors, gives us
a complete description of a data generating process (DGP). That is,
when we have all the values of class sizes and other factors and
know \(\beta_0\) and \(\beta_1\), we can generate all the values of test
scores. Also, when we consider other factors as a random variable,
the association between test scores and class size is not
deterministic, depending on the value of other factors.</li>
</ul>
</div>
</div>

<div id="outline-container-org41f1850" class="outline-4">
<h4 id="org41f1850">An interpretation of the population regression model</h4>
<div class="outline-text-4" id="text-org41f1850">
<p>
Now we have set up the simple linear regression model,
</p>
\begin{equation*}
TestScore = \beta_0 + \beta_1 ClassSize + OtherFactors
\end{equation*}
<p>
What is \(\beta_1\) and \(\beta_0\) represent in the model?
</p>
</div>

<ul class="org-ul"><li><a id="orga61d419"></a>Interpret \(\beta_1\)<br  /><div class="outline-text-5" id="text-orga61d419">
<p>
Let's first look at \(\beta_1\). When we hold other factors constant,
the only reason for a change in test scores is a change in class
size. Denote \(\Delta TestScore\) and \(\Delta ClassSize\) to
be their respective change. According to the above regression model,
holding other factors constant, we have
\[ \Delta TestScore = \beta_1 \Delta ClassSize  \]
where \(\beta_0\) is removed because it is also a constant. Then, we get
\[ \beta_1 = \frac{\Delta TestScore}{\Delta ClassSize} \]
That is, \(\beta_1\) measures the change in the test score resulting
from a <b>one-unit change</b> in the class size. When \(TestScore\) and
\(ClassSize\) are two continuous variable, we can write \(\beta_1\) as
\[\beta_1 = \frac{\mathrm{d} TestScore}{\mathrm{d} ClassSize}  \]
Hence, we often call \(\beta_1\) as the <b>marginal effect</b> of the class
size on the test score.
</p>

<p>
The phrase of "holding other factors constant" is important. Without
it, we cannot disentangle the effect of class sizes on test scores
from other factors. "Holding other things constant" is often expressed
as the notion of <b>ceteris paribus</b>.
</p>
</div></li>

<li><a id="orgc0efb91"></a>Interpret \(\beta_0\)<br  /><div class="outline-text-5" id="text-orgc0efb91">
<p>
\(\beta_0\) is the intercept in the model. Sometimes it bears real
meanings, but sometimes it merely presents as an intercept. In this
regression model, \(\beta_0\) is the test score when the class size and
other factors are all zero, which is obviously nonsensical. Thus,
\(\beta_0\) does not have a real meaning in this model, and it just
determines where the population regression line intersects the Y
axis.
</p>
</div></li></ul>
</div>
</div>


<div id="outline-container-org0dd3af1" class="outline-3">
<h3 id="org0dd3af1"><span class="section-number-3">2.3</span> The general linear regression model</h3>
<div class="outline-text-3" id="text-2-3">
<p>
Let's generalize test scores and class sizes to be two random
variables \(Y\) and \(X\). For both, there are \(n\) observations so that
each observation \(i = 1, 2, 3, \ldots\) is associated with a pair of
values of \((X_i, Y_i)\).
</p>

<p>
Then a <b>simple linear regression model</b> that associates \(Y\) with \(X\) is
</p>
\begin{equation}
\label{eq:single-regress}
Y_i = \beta_0 + \beta_1 X_i + u_i, \text{ for } i = 1, \ldots, n
\end{equation}

<ul class="org-ul">
<li>\(Y_i\) is called the dependent variable, the regressand, or the LHS
(left-hand side) variable.</li>
<li>\(X_i\) is called the independent variable, the regressor, or the RHS
(right-hand side) variable.</li>
<li>\(\beta_{0}\) is the intercept, or the constant term. It can either have
economic meaning or have merely mathematical sense, which determines
the level of the regression line, i.e., the point of intersection
with the Y axis.</li>
<li>\(\beta_{1}\) is the slope of the population regression line. Since
\(\beta_1 = \mathrm{d}Y_i/ \mathrm{d}X_i\), it is the marginal effect
of \(X\) on \(Y\). That is, holding other things constant, one unit
change in \(X\) will make \(Y\) change by \(\beta_1\) units.</li>
<li>\(u_i\) is the error term. \(u_i = Y_i - (\beta_0 + \beta_1 X_i)\)
incorporates all the other factors besides \(X\) that determine the
value of \(Y\).</li>
<li>\(\beta_{0} + \beta_{1}X_{i}\) represents the population regression
function(or the population regression line).</li>
</ul>
</div>
</div>


<div id="outline-container-org0971483" class="outline-3">
<h3 id="org0971483"><span class="section-number-3">2.4</span> An graphical illustration of a linear regression model</h3>
<div class="outline-text-3" id="text-2-4">
<p>
The relationship between the data points, the population regression
line, and the errors (other factors) are illustrated in Figure <a href="#orgc2f4165">1</a>.
</p>


<div id="orgc2f4165" class="figure">
<p><img src="figure/fig-4-1.png" alt="fig-4-1.png" width="600" />
</p>
<p><span class="figure-number">Figure 1: </span>The Population Regression Line</p>
</div>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
Wikipedia, the free encyclopedia. Regression analysis. Retrieved from <a href="https://en.wikipedia.org/wiki/Regression_analysis">https://en.wikipedia.org/wiki/Regression_analysis</a>
</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="author">Author: Zheng Tian</p>
<p class="date">Created: 2017-03-12 Sun 14:55</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>
